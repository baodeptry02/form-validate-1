<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/css/style.css">
</head>

<div class="main">

    <form action="" method="POST" class="form" id="form-1">
      <h3 style="text-align: center" class="heading">Thành viên đăng ký</h3>
      <p class="desc">Cùng nhau học lập trình miễn phí tại F8 ❤️</p>
  
      <div class="spacer"></div>
  
      <div class="form-group">
        <label for="fullname" class="form-label">Tên đầy đủ</label>
        <input id="fullname" name="fullname" type="text" placeholder="Duy Bảo" class="form-control">
        <span class="form-message"></span>
      </div>
  
      <div class="form-group">
        <label for="email" class="form-label">Email</label>
        <input id="email" name="email" type="text" placeholder="VD: baocndse171741@fpt.edu.vn" class="form-control">
        <span class="form-message"></span>
      </div>
  
      <div class="form-group">
        <label for="password" class="form-label">Mật khẩu</label>
        <input id="password" name="password" type="password" placeholder="Nhập mật khẩu" class="form-control">
        <span class="form-message"></span>
      </div>
  
      <div class="form-group">
        <label for="password_confirmation" class="form-label">Nhập lại mật khẩu</label>
        <input id="password_confirmation" name="password_confirmation" placeholder="Nhập lại mật khẩu" type="password" class="form-control">
        <span class="form-message"></span>
      </div>

      <div class="form-group">
        <label for="phonenumber" class="form-label">Số điện thoại</label>
        <input id="phonenumber" name="phonenumber" type="text" placeholder="Số điện thoại của bạn là" class="form-control">
        <span class="form-message"></span>
      </div>

      <div class="form-group">
        <label for="avatar" class="form-label">Ảnh đại diện</label>
        <input id="avatar" name="avatar" type="file" class="form-control">
        <span class="form-message"></span>
      </div>

      <div class="form-group">
        <label for="province" class="form-label">Tỉnh / Thành phố</label>
        <select id="province" name="province" class="form-control">
          <option value="">Tỉnh / Thành Phố</option>
          <option value="hn">Hà Nội</option>
          <option value="hcm">Thành phố Hồ Chí Minh</option>
          <option value="bd">Bình Dương</option>
          <option value="brvt">Bà Rịa - Vũng Tàu</option>
          <option value="dn">Đồng Nai</option>
          <option value="la">Long An</option>
          <option value="tg">Tiền Giang</option>
          <option value="mt">Mỹ Tho</option>
          <option value="bt">Bến Tre</option>
          <option value="ct">Cần Thơ</option>
        </select>
        <span class="form-message"></span>
      </div>

      <div class="form-group">
        <label for="gender" class="form-label">GIới tính</label>
        <div class='form-check'>
          <input name="gender" type="checkbox" value="male" class="form-control">
          Male
        </div>
        <div class='form-check'>
          <input name="gender" type="checkbox" value="female" class="form-control">
          Female
        </div>
        <div class='form-check'>
          <input name="gender" type="checkbox" value="other" class="form-control">
          Other
        </div>
        <span class="form-message"></span>
      </div>
  
      <button class="form-submit">Đăng ký</button>
    </form>
  
  </div>

<body>
    <script src="assets/js/main.js"></script>
    <script>

         // Mong muốn khi sử dụng thư viện trong tương lai

        /* trong lệnh gọi hàm Validator có object, rồi trong Object có cặp key value */
        Validator({

            formGroupSelector: '.form-group',
            errorSelector: '.form-message', /* tại vì muốn cái này sử dụng chung nên bên file js bắt buộc ko có cái class nào hết */
            form : '#form-1', /* trong cặp ngoặc đơn là CSS selector */
            rules : [ /* value của thằng rules này là 1 mảng */

            /* isRequired và isEmail mà mình truyền vào cặp ngoặc đơn, thực ra là chúng ta đang chạy 1 cái hàm, #full-name và #email là 2 đối số của 2 hàm, trả về undefined do ta chưa return lại gì cả, khi ta return cái gì thì nó sẽ trở về cái đó  */

                /* đã tạo ra 1 thư viện rules, thực tế cần bao nhiêu rule cho thẻ input, cứ việc thêm vào, nó đáp ứng được hết */
                Validator.isRequired('#fullname', 'Vui lòng nhập tên đầy đủ'), /* CSS Selector của thẻ input */
                Validator.isRequired('#email'), /* thêm rule mới cho thẻ input thì nhớ là rule nào có trước thì phải validate trước */
                Validator.isEmail('#email'),
                Validator.isRequired('#password'),
                Validator.isRequired('#avatar'),
                Validator.minLength('#password', 6),
                Validator.isRequired('#password_confirmation'),
                Validator.isConfirmed('#password_confirmation', function() {
                    /* mỗi lần rule này được chạy, nó sẽ lấy value của thằng input bên trên và nó so sánh với chuỗi người dùng nhập vào ở form confirm xem có khớp ko */
                     return document.querySelector('#form-1 #password').value
                    }, 'Mật khẩu nhập lại không chính xác'),
                    Validator.isRequired('#phonenumber'),
                    Validator.removeSpaces('#phonenumber', 'Giá trị nhập vào không phải là số điện thoại'),
                    Validator.isRequired('input[name="gender"]', 'Vui lòng check vào đây'),
                    Validator.isRequired('#province', 'Vui lòng check vào đây'),
                  ],
                  onSubmit: function(data) {
                    // Call API
                    console.log(data);
                  }
        }) 
    </script>
</body>
</html>